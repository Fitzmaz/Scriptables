var Scriptable;(()=>{var t={27:(t,e,n)=>{class a{constructor(t=""){this.arg=t,this._actions={},this.init()}init(t=config.widgetFamily){this.widgetFamily=t,this.SETTING_KEY=this.md5(Script.name()),this.FILE_MGR=FileManager[n.g.module.filename.includes("Documents/iCloud~")?"iCloud":"local"](),this.FILE_MGR_LOCAL=FileManager.local(),this.BACKGROUND_KEY=this.FILE_MGR_LOCAL.joinPath(this.FILE_MGR_LOCAL.documentsDirectory(),`bg_${this.SETTING_KEY}.jpg`),this.settings=this.getSettings()}registerAction(t,e){this._actions[t]=e.bind(this)}actionUrl(t="",e=""){let n=URLScheme.forRunningScript(),a=`act=${encodeURIComponent(t)}&data=${encodeURIComponent(e)}&__arg=${encodeURIComponent(this.arg)}&__size=${this.widgetFamily}`,i="";return i=n.includes("run?")?`${n}&${a}`:`${n}?${a}`,i}base64Encode(t){return Data.fromString(t).toBase64String()}base64Decode(t){return Data.fromBase64String(t).toRawString()}md5(t){function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,n,a,i,r,s){return e((o=e(e(n,t),e(i,s)))<<(l=r)|o>>>32-l,a);var o,l}function a(t,e,a,i,r,s,o){return n(e&a|~e&i,t,e,r,s,o)}function i(t,e,a,i,r,s,o){return n(e&i|a&~i,t,e,r,s,o)}function r(t,e,a,i,r,s,o){return n(e^a^i,t,e,r,s,o)}function s(t,e,a,i,r,s,o){return n(a^(e|~i),t,e,r,s,o)}function o(t,n){var o,l,c,u;t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;for(var d=1732584193,m=-271733879,g=-1732584194,p=271733878,h=0;h<t.length;h+=16)d=a(o=d,l=m,c=g,u=p,t[h],7,-680876936),p=a(p,d,m,g,t[h+1],12,-389564586),g=a(g,p,d,m,t[h+2],17,606105819),m=a(m,g,p,d,t[h+3],22,-1044525330),d=a(d,m,g,p,t[h+4],7,-176418897),p=a(p,d,m,g,t[h+5],12,1200080426),g=a(g,p,d,m,t[h+6],17,-1473231341),m=a(m,g,p,d,t[h+7],22,-45705983),d=a(d,m,g,p,t[h+8],7,1770035416),p=a(p,d,m,g,t[h+9],12,-1958414417),g=a(g,p,d,m,t[h+10],17,-42063),m=a(m,g,p,d,t[h+11],22,-1990404162),d=a(d,m,g,p,t[h+12],7,1804603682),p=a(p,d,m,g,t[h+13],12,-40341101),g=a(g,p,d,m,t[h+14],17,-1502002290),d=i(d,m=a(m,g,p,d,t[h+15],22,1236535329),g,p,t[h+1],5,-165796510),p=i(p,d,m,g,t[h+6],9,-1069501632),g=i(g,p,d,m,t[h+11],14,643717713),m=i(m,g,p,d,t[h],20,-373897302),d=i(d,m,g,p,t[h+5],5,-701558691),p=i(p,d,m,g,t[h+10],9,38016083),g=i(g,p,d,m,t[h+15],14,-660478335),m=i(m,g,p,d,t[h+4],20,-405537848),d=i(d,m,g,p,t[h+9],5,568446438),p=i(p,d,m,g,t[h+14],9,-1019803690),g=i(g,p,d,m,t[h+3],14,-187363961),m=i(m,g,p,d,t[h+8],20,1163531501),d=i(d,m,g,p,t[h+13],5,-1444681467),p=i(p,d,m,g,t[h+2],9,-51403784),g=i(g,p,d,m,t[h+7],14,1735328473),d=r(d,m=i(m,g,p,d,t[h+12],20,-1926607734),g,p,t[h+5],4,-378558),p=r(p,d,m,g,t[h+8],11,-2022574463),g=r(g,p,d,m,t[h+11],16,1839030562),m=r(m,g,p,d,t[h+14],23,-35309556),d=r(d,m,g,p,t[h+1],4,-1530992060),p=r(p,d,m,g,t[h+4],11,1272893353),g=r(g,p,d,m,t[h+7],16,-155497632),m=r(m,g,p,d,t[h+10],23,-1094730640),d=r(d,m,g,p,t[h+13],4,681279174),p=r(p,d,m,g,t[h],11,-358537222),g=r(g,p,d,m,t[h+3],16,-722521979),m=r(m,g,p,d,t[h+6],23,76029189),d=r(d,m,g,p,t[h+9],4,-640364487),p=r(p,d,m,g,t[h+12],11,-421815835),g=r(g,p,d,m,t[h+15],16,530742520),d=s(d,m=r(m,g,p,d,t[h+2],23,-995338651),g,p,t[h],6,-198630844),p=s(p,d,m,g,t[h+7],10,1126891415),g=s(g,p,d,m,t[h+14],15,-1416354905),m=s(m,g,p,d,t[h+5],21,-57434055),d=s(d,m,g,p,t[h+12],6,1700485571),p=s(p,d,m,g,t[h+3],10,-1894986606),g=s(g,p,d,m,t[h+10],15,-1051523),m=s(m,g,p,d,t[h+1],21,-2054922799),d=s(d,m,g,p,t[h+8],6,1873313359),p=s(p,d,m,g,t[h+15],10,-30611744),g=s(g,p,d,m,t[h+6],15,-1560198380),m=s(m,g,p,d,t[h+13],21,1309151649),d=s(d,m,g,p,t[h+4],6,-145523070),p=s(p,d,m,g,t[h+11],10,-1120210379),g=s(g,p,d,m,t[h+2],15,718787259),m=s(m,g,p,d,t[h+9],21,-343485551),d=e(d,o),m=e(m,l),g=e(g,c),p=e(p,u);return[d,m,g,p]}function l(t){for(var e="",n=32*t.length,a=0;a<n;a+=8)e+=String.fromCharCode(t[a>>5]>>>a%32&255);return e}function c(t){var e=[];for(e[(t.length>>2)-1]=void 0,a=0;a<e.length;a+=1)e[a]=0;for(var n=8*t.length,a=0;a<n;a+=8)e[a>>5]|=(255&t.charCodeAt(a/8))<<a%32;return e}function u(t){for(var e,n="0123456789abcdef",a="",i=0;i<t.length;i+=1)e=t.charCodeAt(i),a+=n.charAt(e>>>4&15)+n.charAt(15&e);return a}function d(t){return unescape(encodeURIComponent(t))}function m(t){return l(o(c(e=d(t)),8*e.length));var e}return u(m(t))}async httpGet(t,e=!0,n=!1){let a=null;const i=this.md5(t);if(n&&Keychain.contains(i)){let t=Keychain.get(i);return e?JSON.parse(t):t}try{let n=new Request(t);a=await(e?n.loadJSON():n.loadString())}catch(t){}if(!a&&Keychain.contains(i)){let t=Keychain.get(i);return e?JSON.parse(t):t}return Keychain.set(i,e?JSON.stringify(a):a),a}async httpPost(t,e){}async getImageByUrl(t,e=!0){const n=this.md5(t),a=FileManager.local().joinPath(FileManager.local().temporaryDirectory(),n);if(e&&FileManager.local().fileExists(a))return Image.fromFile(a);try{const e=new Request(t),n=await e.loadImage();return FileManager.local().writeImage(a,n),n}catch(t){let e=new DrawContext;return e.size=new Size(100,100),e.setFillColor(Color.red()),e.fillRect(new Rect(0,0,100,100)),await e.getImage()}}async renderHeader(t,e,n,a=!1){t.addSpacer(10);let i=t.addStack();i.centerAlignContent();let r=i.addImage(await this.getImageByUrl(e));r.imageSize=new Size(14,14),r.cornerRadius=4,i.addSpacer(10);let s=i.addText(n);return a&&(s.textColor=a),s.textOpacity=.7,s.font=Font.boldSystemFont(12),t.addSpacer(10),t}async getWidgetScreenShot(t=null){async function e(t,e){let n=new Alert;n.message=t;for(const t of e)n.addAction(t);return await n.presentAlert()}var n;if(n=t||"å¼€å§‹ä¹‹å‰ï¼Œè¯·å…ˆå‰å¾€æ¡Œé¢,æˆªå–ç©ºç™½ç•Œé¢çš„æˆªå›¾ã€‚ç„¶åå›æ¥ç»§ç»­",await e(n,["æˆ‘å·²æˆªå›¾","å‰å»æˆªå›¾ >"]))return;let a=await Photos.fromLibrary(),i=a.size.height,r={2532:{small:474,medium:1014,large:1062,left:78,right:618,top:231,middle:819,bottom:1407},2688:{small:507,medium:1080,large:1137,left:81,right:654,top:228,middle:858,bottom:1488},1792:{small:338,medium:720,large:758,left:54,right:436,top:160,middle:580,bottom:1e3},2436:{small:465,medium:987,large:1035,left:69,right:591,top:213,middle:783,bottom:1353},2208:{small:471,medium:1044,large:1071,left:99,right:672,top:114,middle:696,bottom:1278},1334:{small:296,medium:642,large:648,left:54,right:400,top:60,middle:412,bottom:764},1136:{small:282,medium:584,large:622,left:30,right:332,top:59,middle:399,bottom:399},1624:{small:310,medium:658,large:690,left:46,right:394,top:142,middle:522,bottom:902},2001:{small:444,medium:963,large:972,left:81,right:600,top:90,middle:618,bottom:1146}}[i];if(!r)return n="å¥½åƒæ‚¨é€‰æ‹©çš„ç…§ç‰‡ä¸æ˜¯æ­£ç¡®çš„æˆªå›¾ï¼Œæˆ–è€…æ‚¨çš„æœºå‹æˆ‘ä»¬æš‚æ—¶ä¸æ”¯æŒã€‚ç‚¹å‡»ç¡®å®šå‰å¾€ç¤¾åŒºè®¨è®º",void(0===await e(n,["å¸®åŠ©","å–æ¶ˆ"])&&Safari.openInApp("https://support.qq.com/products/287371",!1));n="æˆªå›¾ä¸­è¦è®¾ç½®é€æ˜èƒŒæ™¯ç»„ä»¶çš„å°ºå¯¸ç±»å‹æ˜¯ï¼Ÿ";let s=["å°å°ºå¯¸","ä¸­å°ºå¯¸","å¤§å°ºå¯¸"],o=s[await e(n,s)];n="è¦è®¾ç½®é€æ˜èƒŒæ™¯çš„å°ç»„ä»¶åœ¨å“ªä¸ªä½ç½®ï¼Ÿ",n+=1136==i?" ï¼ˆå¤‡æ³¨ï¼šå½“å‰è®¾å¤‡åªæ”¯æŒä¸¤è¡Œå°ç»„ä»¶ï¼Œæ‰€ä»¥ä¸‹è¾¹é€‰é¡¹ä¸­çš„ã€Œä¸­é—´ã€å’Œã€Œåº•éƒ¨ã€çš„é€‰é¡¹æ˜¯ä¸€è‡´çš„ï¼‰":"";let l={w:"",h:"",x:"",y:""};if("å°å°ºå¯¸"==o){l.w=r.small,l.h=r.small;let t=["å·¦ä¸Šè§’","å³ä¸Šè§’","ä¸­é—´å·¦","ä¸­é—´å³","å·¦ä¸‹è§’","å³ä¸‹è§’"],a=["Top left","Top right","Middle left","Middle right","Bottom left","Bottom right"][await e(n,t)].toLowerCase().split(" ");l.y=r[a[0]],l.x=r[a[1]]}else if("ä¸­å°ºå¯¸"==o){l.w=r.medium,l.h=r.small,l.x=r.left;let t=["é¡¶éƒ¨","ä¸­é—´","åº•éƒ¨"],a=["Top","Middle","Bottom"][await e(n,t)].toLowerCase();l.y=r[a]}else if("å¤§å°ºå¯¸"==o){l.w=r.medium,l.h=r.large,l.x=r.left;let t=["é¡¶éƒ¨","åº•éƒ¨"],a=await e(n,t);l.y=a?r.middle:r.top}n="éœ€è¦ç»™èƒŒæ™¯å›¾ç‰‡åŠ ä»€ä¹ˆæ˜¾ç¤ºæ•ˆæœï¼Ÿ";let c=await e(n,["é€æ˜","ç™½è‰² æ¨¡ç³Š","é»‘è‰² æ¨¡ç³Š"]);if(c){const t=1===c?"light":"dark";a=await async function(t,e){const n=`\nvar mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];var shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function stackBlurCanvasRGB(id,top_x,top_y,width,height,radius){if(isNaN(radius)||radius<1)return;radius|=0;var canvas=document.getElementById(id);var context=canvas.getContext("2d");var imageData;try{try{imageData=context.getImageData(top_x,top_y,width,height)}catch(e){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");imageData=context.getImageData(top_x,top_y,width,height)}catch(e){alert("Cannot access local image");throw new Error("unable to access local image data: "+e);return}}}catch(e){alert("Cannot access image");throw new Error("unable to access image data: "+e);}var pixels=imageData.data;var x,y,i,p,yp,yi,yw,r_sum,g_sum,b_sum,r_out_sum,g_out_sum,b_out_sum,r_in_sum,g_in_sum,b_in_sum,pr,pg,pb,rbs;var div=radius+radius+1;var w4=width<<2;var widthMinus1=width-1;var heightMinus1=height-1;var radiusPlus1=radius+1;var sumFactor=radiusPlus1*(radiusPlus1+1)/2;var stackStart=new BlurStack();var stack=stackStart;for(i=1;i<div;i++){stack=stack.next=new BlurStack();if(i==radiusPlus1)var stackEnd=stack}stack.next=stackStart;var stackIn=null;var stackOut=null;yw=yi=0;var mul_sum=mul_table[radius];var shg_sum=shg_table[radius];for(y=0;y<height;y++){r_in_sum=g_in_sum=b_in_sum=r_sum=g_sum=b_sum=0;r_out_sum=radiusPlus1*(pr=pixels[yi]);g_out_sum=radiusPlus1*(pg=pixels[yi+1]);b_out_sum=radiusPlus1*(pb=pixels[yi+2]);r_sum+=sumFactor*pr;g_sum+=sumFactor*pg;b_sum+=sumFactor*pb;stack=stackStart;for(i=0;i<radiusPlus1;i++){stack.r=pr;stack.g=pg;stack.b=pb;stack=stack.next}for(i=1;i<radiusPlus1;i++){p=yi+((widthMinus1<i?widthMinus1:i)<<2);r_sum+=(stack.r=(pr=pixels[p]))*(rbs=radiusPlus1-i);g_sum+=(stack.g=(pg=pixels[p+1]))*rbs;b_sum+=(stack.b=(pb=pixels[p+2]))*rbs;r_in_sum+=pr;g_in_sum+=pg;b_in_sum+=pb;stack=stack.next}stackIn=stackStart;stackOut=stackEnd;for(x=0;x<width;x++){pixels[yi]=(r_sum*mul_sum)>>shg_sum;pixels[yi+1]=(g_sum*mul_sum)>>shg_sum;pixels[yi+2]=(b_sum*mul_sum)>>shg_sum;r_sum-=r_out_sum;g_sum-=g_out_sum;b_sum-=b_out_sum;r_out_sum-=stackIn.r;g_out_sum-=stackIn.g;b_out_sum-=stackIn.b;p=(yw+((p=x+radius+1)<widthMinus1?p:widthMinus1))<<2;r_in_sum+=(stackIn.r=pixels[p]);g_in_sum+=(stackIn.g=pixels[p+1]);b_in_sum+=(stackIn.b=pixels[p+2]);r_sum+=r_in_sum;g_sum+=g_in_sum;b_sum+=b_in_sum;stackIn=stackIn.next;r_out_sum+=(pr=stackOut.r);g_out_sum+=(pg=stackOut.g);b_out_sum+=(pb=stackOut.b);r_in_sum-=pr;g_in_sum-=pg;b_in_sum-=pb;stackOut=stackOut.next;yi+=4}yw+=width}for(x=0;x<width;x++){g_in_sum=b_in_sum=r_in_sum=g_sum=b_sum=r_sum=0;yi=x<<2;r_out_sum=radiusPlus1*(pr=pixels[yi]);g_out_sum=radiusPlus1*(pg=pixels[yi+1]);b_out_sum=radiusPlus1*(pb=pixels[yi+2]);r_sum+=sumFactor*pr;g_sum+=sumFactor*pg;b_sum+=sumFactor*pb;stack=stackStart;for(i=0;i<radiusPlus1;i++){stack.r=pr;stack.g=pg;stack.b=pb;stack=stack.next}yp=width;for(i=1;i<=radius;i++){yi=(yp+x)<<2;r_sum+=(stack.r=(pr=pixels[yi]))*(rbs=radiusPlus1-i);g_sum+=(stack.g=(pg=pixels[yi+1]))*rbs;b_sum+=(stack.b=(pb=pixels[yi+2]))*rbs;r_in_sum+=pr;g_in_sum+=pg;b_in_sum+=pb;stack=stack.next;if(i<heightMinus1){yp+=width}}yi=x;stackIn=stackStart;stackOut=stackEnd;for(y=0;y<height;y++){p=yi<<2;pixels[p]=(r_sum*mul_sum)>>shg_sum;pixels[p+1]=(g_sum*mul_sum)>>shg_sum;pixels[p+2]=(b_sum*mul_sum)>>shg_sum;r_sum-=r_out_sum;g_sum-=g_out_sum;b_sum-=b_out_sum;r_out_sum-=stackIn.r;g_out_sum-=stackIn.g;b_out_sum-=stackIn.b;p=(x+(((p=y+radiusPlus1)<heightMinus1?p:heightMinus1)*width))<<2;r_sum+=(r_in_sum+=(stackIn.r=pixels[p]));g_sum+=(g_in_sum+=(stackIn.g=pixels[p+1]));b_sum+=(b_in_sum+=(stackIn.b=pixels[p+2]));stackIn=stackIn.next;r_out_sum+=(pr=stackOut.r);g_out_sum+=(pg=stackOut.g);b_out_sum+=(pb=stackOut.b);r_in_sum-=pr;g_in_sum-=pg;b_in_sum-=pb;stackOut=stackOut.next;yi+=width}}context.putImageData(imageData,top_x,top_y)}function BlurStack(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null}\n      // https://gist.github.com/mjackson/5311256\n    \n      function rgbToHsl(r, g, b){\n          r /= 255, g /= 255, b /= 255;\n          var max = Math.max(r, g, b), min = Math.min(r, g, b);\n          var h, s, l = (max + min) / 2;\n    \n          if(max == min){\n              h = s = 0; // achromatic\n          }else{\n              var d = max - min;\n              s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n              switch(max){\n                  case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                  case g: h = (b - r) / d + 2; break;\n                  case b: h = (r - g) / d + 4; break;\n              }\n              h /= 6;\n          }\n    \n          return [h, s, l];\n      }\n    \n      function hslToRgb(h, s, l){\n          var r, g, b;\n    \n          if(s == 0){\n              r = g = b = l; // achromatic\n          }else{\n              var hue2rgb = function hue2rgb(p, q, t){\n                  if(t < 0) t += 1;\n                  if(t > 1) t -= 1;\n                  if(t < 1/6) return p + (q - p) * 6 * t;\n                  if(t < 1/2) return q;\n                  if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n                  return p;\n              }\n    \n              var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n              var p = 2 * l - q;\n              r = hue2rgb(p, q, h + 1/3);\n              g = hue2rgb(p, q, h);\n              b = hue2rgb(p, q, h - 1/3);\n          }\n    \n          return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n      }\n      \n      function lightBlur(hsl) {\n      \n        // Adjust the luminance.\n        let lumCalc = 0.35 + (0.3 / hsl[2]);\n        if (lumCalc < 1) { lumCalc = 1; }\n        else if (lumCalc > 3.3) { lumCalc = 3.3; }\n        const l = hsl[2] * lumCalc;\n        \n        // Adjust the saturation. \n        const colorful = 2 * hsl[1] * l;\n        const s = hsl[1] * colorful * 1.5;\n        \n        return [hsl[0],s,l];\n        \n      }\n      \n      function darkBlur(hsl) {\n    \n        // Adjust the saturation. \n        const colorful = 2 * hsl[1] * hsl[2];\n        const s = hsl[1] * (1 - hsl[2]) * 3;\n        \n        return [hsl[0],s,hsl[2]];\n        \n      }\n    \n      // Set up the canvas.\n      const img = document.getElementById("blurImg");\n      const canvas = document.getElementById("mainCanvas");\n    \n      const w = img.naturalWidth;\n      const h = img.naturalHeight;\n    \n      canvas.style.width  = w + "px";\n      canvas.style.height = h + "px";\n      canvas.width = w;\n      canvas.height = h;\n    \n      const context = canvas.getContext("2d");\n      context.clearRect( 0, 0, w, h );\n      context.drawImage( img, 0, 0 );\n      \n      // Get the image data from the context.\n      var imageData = context.getImageData(0,0,w,h);\n      var pix = imageData.data;\n      \n      var isDark = "${e}" == "dark";\n      var imageFunc = isDark ? darkBlur : lightBlur;\n    \n      for (let i=0; i < pix.length; i+=4) {\n    \n        // Convert to HSL.\n        let hsl = rgbToHsl(pix[i],pix[i+1],pix[i+2]);\n        \n        // Apply the image function.\n        hsl = imageFunc(hsl);\n      \n        // Convert back to RGB.\n        const rgb = hslToRgb(hsl[0], hsl[1], hsl[2]);\n      \n        // Put the values back into the data.\n        pix[i] = rgb[0];\n        pix[i+1] = rgb[1];\n        pix[i+2] = rgb[2];\n    \n      }\n    \n      // Draw over the old image.\n      context.putImageData(imageData,0,0);\n    \n      // Blur the image.\n      stackBlurCanvasRGB("mainCanvas", 0, 0, w, h, 150);\n      \n      // Perform the additional processing for dark images.\n      if (isDark) {\n      \n        // Draw the hard light box over it.\n        context.globalCompositeOperation = "hard-light";\n        context.fillStyle = "rgba(55,55,55,0.2)";\n        context.fillRect(0, 0, w, h);\n    \n        // Draw the soft light box over it.\n        context.globalCompositeOperation = "soft-light";\n        context.fillStyle = "rgba(55,55,55,1)";\n        context.fillRect(0, 0, w, h);\n    \n        // Draw the regular box over it.\n        context.globalCompositeOperation = "source-over";\n        context.fillStyle = "rgba(55,55,55,0.4)";\n        context.fillRect(0, 0, w, h);\n      \n      // Otherwise process light images.\n      } else {\n        context.fillStyle = "rgba(255,255,255,0.4)";\n        context.fillRect(0, 0, w, h);\n      }\n    \n      // Return a base64 representation.\n      canvas.toDataURL(); \n      `;let a=`\n      <img id="blurImg" src="data:image/png;base64,${Data.fromPNG(t).toBase64String()}" />\n      <canvas id="mainCanvas" />\n      `,i=new WebView;await i.loadHTML(a);let r=(await i.evaluateJavaScript(n)).slice(22),s=Data.fromBase64String(r);return Image.fromData(s)}(a,t)}return function(t,e){let n=new DrawContext;return n.size=new Size(e.width,e.height),n.drawImageAtPoint(t,new Point(-e.x,-e.y)),n.getImage()}(a,new Rect(l.x,l.y,l.w,l.h))}async notify(t,e,n,a={}){let i=new Notification;return i=Object.assign(i,a),i.title=t,i.body=e,n&&(i.openURL=n),await i.schedule()}async shadowImage(t,e="#000000",n=.7){let a=new DrawContext;return a.size=t.size,a.drawImageInRect(t,new Rect(0,0,t.size.width,t.size.height)),a.setFillColor(new Color(e,n)),a.fillRect(new Rect(0,0,t.size.width,t.size.height)),await a.getImage()}getSettings(t=!0){let e=t?{}:"",n="";if(Keychain.contains(this.SETTING_KEY)&&(n=Keychain.get(this.SETTING_KEY)),t)try{e=JSON.parse(n)}catch(t){}else e=n;return e}saveSettings(t=!0){let e="object"==typeof this.settings?JSON.stringify(this.settings):String(this.settings);Keychain.set(this.SETTING_KEY,e),t&&this.notify("è®¾ç½®æˆåŠŸ","æ¡Œé¢ç»„ä»¶ç¨åå°†è‡ªåŠ¨åˆ·æ–°")}getBackgroundImage(){let t=null;return this.FILE_MGR_LOCAL.fileExists(this.BACKGROUND_KEY)&&(t=Image.fromFile(this.BACKGROUND_KEY)),t}setBackgroundImage(t,e=!0){t?(this.FILE_MGR_LOCAL.writeImage(this.BACKGROUND_KEY,t),e&&this.notify("è®¾ç½®æˆåŠŸ","å°ç»„ä»¶èƒŒæ™¯å›¾ç‰‡å·²è®¾ç½®ï¼ç¨ååˆ·æ–°ç”Ÿæ•ˆ")):(this.FILE_MGR_LOCAL.fileExists(this.BACKGROUND_KEY)&&this.FILE_MGR_LOCAL.remove(this.BACKGROUND_KEY),e&&this.notify("ç§»é™¤æˆåŠŸ","å°ç»„ä»¶èƒŒæ™¯å›¾ç‰‡å·²ç§»é™¤ï¼Œç¨ååˆ·æ–°ç”Ÿæ•ˆ"))}}t.exports={Base:a,Testing:async(t,e="")=>{let i=null;if(config.runsInWidget){i=new t(args.widgetParameter||"");const e=await i.render();Script.setWidget(e),Script.complete()}else{let{act:r,data:s,__arg:o,__size:l}=args.queryParameters;if(i=new t(o||e||""),l&&i.init(l),!r||!i._actions){const t=i._actions,r=[async()=>{const s=new Alert;s.title="æœåŠ¡å™¨ IP",s.message="è¯·è¾“å…¥è¿œç¨‹å¼€å‘æœåŠ¡å™¨ï¼ˆç”µè„‘ï¼‰IPåœ°å€";let c="192.168.1.3";if(Keychain.contains("xjj_debug_server")&&(c=Keychain.get("xjj_debug_server")),s.addTextField("server-ip",c),s.addAction("è¿æ¥"),s.addCancelAction("å–æ¶ˆ"),-1===await s.presentAlert())return;const u=s.textFieldValue(0);Keychain.set("xjj_debug_server",u);const d=`http://${u}:5566`,m=n.g.module.filename.replace("ã€Œå°ä»¶ä»¶ã€å¼€å‘ç¯å¢ƒ",Script.name()),g=new Request(`${d}/sync`);g.method="POST",g.addFileToMultipart(m,"Widget",Script.name());try{const t=await g.loadString();if("ok"!==t)return i.notify("è¿æ¥å¤±è´¥",t)}catch(t){return i.notify("è¿æ¥é”™è¯¯",t.message)}i.notify("è¿æ¥æˆåŠŸ","ç¼–è¾‘æ–‡ä»¶åä¿å­˜å³å¯è¿›è¡Œä¸‹ä¸€æ­¥é¢„è§ˆæ“ä½œ");const p=async(t,e="log")=>{const n=new Request(`${d}/console`);return n.method="POST",n.headers={"Content-Type":"application/json"},n.body=JSON.stringify({t:e,data:t}),await n.loadString()},h=console.log.bind(console),f=console.warn.bind(console),_=console.error.bind(console);for(console.log=t=>{h(t),p(t,"log")},console.warn=t=>{f(t),p(t,"warn")},console.error=t=>{_(t),p(t,"error")};;){let n="";try{const t=new Request(`${d}/sync?name=${encodeURIComponent(Script.name())}`);n=await t.loadString()}catch(t){i.notify("åœæ­¢è°ƒè¯•","ä¸å¼€å‘æœåŠ¡å™¨çš„è¿æ¥å·²ç»ˆæ­¢");break}if("stop"===n){console.log("[!] åœæ­¢åŒæ­¥");break}if("no"===n);else if(n.length>0){i.notify("åŒæ­¥æˆåŠŸ","æ–°æ–‡ä»¶å·²åŒæ­¥ï¼Œå¤§å°ï¼š"+n.length);const s=n.split("// @ç»„ä»¶ä»£ç å¼€å§‹")[1].split("// @ç»„ä»¶ä»£ç ç»“æŸ")[0];let c=null;try{c=new Function(`const _Debugger = Base => {\n${s}\nreturn Widget\n}\nreturn _Debugger`)()(a)}catch(t){i.notify("è§£æå¤±è´¥",t.message)}if(!c)continue;if(delete i,i=new c(o||e||""),l&&i.init(l),FileManager.local().writeString(m,n),await r[1](!0)===4+Object.keys(t).length)break}}},async(e=!1)=>{let n=new Alert;n.title="é¢„è§ˆç»„ä»¶",n.message="æµ‹è¯•æ¡Œé¢ç»„ä»¶åœ¨å„ç§å°ºå¯¸ä¸‹çš„æ˜¾ç¤ºæ•ˆæœ",n.addAction("å°å°ºå¯¸ Small"),n.addAction("ä¸­å°ºå¯¸ Medium"),n.addAction("å¤§å°ºå¯¸ Large"),n.addAction("å…¨éƒ¨ All"),n.addCancelAction("å–æ¶ˆæ“ä½œ");const a=[];if(e){for(let e in t)n.addAction(e),a.push(t[e].bind(i));n.addDestructiveAction("åœæ­¢è°ƒè¯•")}let r,s=await n.presentSheet();if(-1!==s){switch(s){case 0:i.widgetFamily="small",r=await i.render(),await r.presentSmall();break;case 1:i.widgetFamily="medium",r=await i.render(),await r.presentMedium();break;case 2:i.widgetFamily="large",r=await i.render(),await r.presentLarge();break;case 3:i.widgetFamily="small",r=await i.render(),await r.presentSmall(),i.widgetFamily="medium",r=await i.render(),await r.presentMedium(),i.widgetFamily="large",r=await i.render(),await r.presentLarge();break;default:const t=a[s-4];t&&await t()}return s}},async()=>{const t=n.g.module.filename.replace("ã€Œå°ä»¶ä»¶ã€å¼€å‘ç¯å¢ƒ",Script.name()),e=FileManager.local().readString(t);Pasteboard.copyString(e),await i.notify("å¤åˆ¶æˆåŠŸ","å½“å‰è„šæœ¬çš„æºä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼")},async()=>{Safari.openInApp("https://www.kancloud.cn/im3x/scriptable/content",!1)},async()=>{Safari.openInApp("https://support.qq.com/products/287371",!1)}],s=new Alert;s.title=i.name,s.message=i.desc,s.addAction("è¿œç¨‹å¼€å‘"),s.addAction("é¢„è§ˆç»„ä»¶"),s.addAction("å¤åˆ¶æºç "),s.addAction("å¼€å‘æ–‡æ¡£"),s.addAction("åé¦ˆäº¤æµ");for(let e in t)s.addAction(e),r.push(t[e]);s.addCancelAction("å–æ¶ˆæ“ä½œ");const c=await s.presentSheet();if(r[c]){const t=r[c];await t()}return}let c=`action${r.split("-").map((t=>t[0].toUpperCase()+t.substr(1))).join("")}`;if(i[c]&&"function"==typeof i[c]){const t=i[c].bind(i);await t(s)}}},Running:async(t,e="")=>{let n=null;if(config.runsInWidget||config.runsWithSiri){n=new t((config.runsInWidget?args.widgetParameter:args.shortcutParameter)||"");const e=await n.render();Script.setWidget(e),Script.complete()}else{let{act:a,data:i,__arg:r,__size:s}=args.queryParameters;if(n=new t(r||e||""),s&&n.init(s),!a||!n._actions){const t=n._actions,e=[],a=new Alert;a.title=n.name,a.message=n.desc;for(let n in t)a.addAction(n),e.push(t[n]);a.addCancelAction("å–æ¶ˆæ“ä½œ");const i=await a.presentSheet();if(e[i]){const t=e[i];await t()}return}let o=`action${a.split("-").map((t=>t[0].toUpperCase()+t.substr(1))).join("")}`;if(n[o]&&"function"==typeof n[o]){const t=n[o].bind(n);await t(i)}}}},(async()=>{const t="XJJ_UPDATE_AT";let e=0;const a=FileManager[n.g.module.filename.includes("Documents/iCloud~")?"iCloud":"local"]();if(Keychain.contains(t)&&(e=parseInt(Keychain.get(t))),e>+new Date-36e5)return console.warn("[-] 1 å°æ—¶å†…å·²æ£€æŸ¥è¿‡æ›´æ–°");console.log("[*] æ£€æµ‹å¼€å‘ç¯å¢ƒæ˜¯å¦æœ‰æ›´æ–°..");const i=new Request("https://gitee.com/im3x/Scriptables/raw/v2-dev/package.json"),r=await i.loadJSON();if(console.log(`[+] è¿œç¨‹å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼š${r.runtime_ver}`),20201209===r.runtime_ver)return console.warn("[-] è¿œç¨‹ç‰ˆæœ¬ä¸€è‡´ï¼Œæš‚æ— æ›´æ–°");console.log("[+] å¼€å§‹æ›´æ–°å¼€å‘ç¯å¢ƒ..");const s=new Request("https://gitee.com/im3x/Scriptables/raw/v2-dev/Scripts/%E3%80%8C%E5%B0%8F%E4%BB%B6%E4%BB%B6%E3%80%8D%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.js"),o=await s.load();a.write(a.joinPath(a.documentsDirectory(),"ã€Œå°ä»¶ä»¶ã€å¼€å‘ç¯å¢ƒ.js"),o);const l=new Notification;l.title="æ›´æ–°æˆåŠŸ",l.body="ã€Œå°ä»¶ä»¶ã€å¼€å‘ç¯å¢ƒå·²è‡ªåŠ¨æ›´æ–°ï¼",l.schedule(),e=+new Date,Keychain.set(t,String(e))})()}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};(()=>{"use strict";n.r(a),n.d(a,{run:()=>S});var t=n(27);const e="status",i="energy",r="nerve",s="travel",o="drug",l="booster",c="medical",u="bank",d="education",m="oc",g={[s]:"airplane",[o]:"pills.fill",[l]:"shift.fill",[c]:"cross.case.fill"},p=Font.regularSystemFont(14),h="#4d7c1e",f="#b3382c";function _(t,e=2){let n=String(t);for(;n.length<e;)n="0"+n;return n}function w(t,e){return new Date(1e3*(t+e))}function y(t){const e={days:Math.floor(t/60/60/24),hours:Math.floor(t/60/60)%24,minutes:Math.floor(t/60)%60};for(const t in e){const n=e[t];if(n>0)return{unit:t,value:n}}}class b extends t.Base{constructor(t){super(t),this.name="TORN å°ç»„ä»¶",this.version="0.0.9",this.desc=`ç‰ˆæœ¬ ${this.version}`,this.registerAction("æ£€æŸ¥æ›´æ–°",this.actionUpdate)}async render(){let t,e,n=this.arg;if("string"==typeof n&&n.length>0){const a=`https://api.torn.com/user/?selections=timestamp,basic,travel,cooldowns,bars,money,education&key=${n}&comment=TornWidget`;t=await this.httpGet(a,!0,!1);const i=`https://api.torn.com/faction/?selections=crimes&key=${n}&comment=TornWidget`;e=await this.httpGet(i,!0,!1)}else t={timestamp:1615639666,level:25,gender:"Male",player_id:2587304,name:"microdust",server_time:1615639666,points:36,cayman_bank:0,vault_amount:0,daily_networth:5379662754,money_onhand:600293,education_current:61,education_timeleft:1545972,status:{description:"Traveling to United Kingdom",details:"",state:"Traveling",color:"blue",until:0},travel:{destination:"United Kingdom",timestamp:1615644140,departed:1615637300,time_left:4474},cooldowns:{drug:27118,medical:17393,booster:13236},happy:{current:4938,maximum:5025,increment:5,interval:900,ticktime:734,fulltime:16034},life:{current:685,maximum:1181,increment:70,interval:300,ticktime:134,fulltime:2234},energy:{current:30,maximum:150,increment:5,interval:600,ticktime:134,fulltime:13934},nerve:{current:15,maximum:61,increment:1,interval:300,ticktime:134,fulltime:13634},chain:{current:0,maximum:1e4,timeout:0,modifier:1,cooldown:0},city_bank:{amount:2436e6,time_left:6732555},education_completed:[14,18,19,20,34,43,44,45,46,47,48,49,50,51,52,54,112,113,126,127]},e={crimes:{8736509:{crime_id:4,crime_name:"Planned robbery",participants:[{2587304:{description:"Okay",details:"",state:"Okay",color:"green",until:0}},{2459216:{description:"Returning to Torn from United Kingdom",details:"",state:"Traveling",color:"blue",until:0}},{2601348:{description:"Okay",details:"",state:"Okay",color:"green",until:0}},{2596088:{description:"Returning to Torn from Argentina",details:"",state:"Traveling",color:"blue",until:0}},{2515101:{description:"Traveling to Argentina",details:"",state:"Traveling",color:"blue",until:0}}],time_started:1615449927,time_ready:1615795527,time_left:248739,time_completed:0,initiated:0,initiated_by:0,planned_by:2515101,success:0,money_gain:0,respect_gain:0}}},t.timestamp=Math.floor(Date.now()/1e3);const a=await this.parseData(t),i=this.parseCrimes(e,t.player_id);switch(Object.assign(a,i),this.widgetFamily){case"large":return await this.renderLarge(a);case"medium":return await this.renderMedium(a);default:return await this.renderSmall(a)}}async renderSmall(t){function e(t){t.addSpacer();const e=t.addStack();return e.size=new Size(0,70),e}function n(t){t.addSpacer();const e=t.addStack();return e.size=new Size(70,70),e}let a=new ListWidget,w=e(a),b=n(w),S=n(w);w.addSpacer();let x=e(a);x.addSpacer();let v=x.addStack();function k(t,{text:e,textColor:n,backgroundColor:a,paddingLeft:i,paddingRight:r}){t.addSpacer();const s=t.addStack();s.size=new Size(t.size.width,0),s.addSpacer(i);const o=Font.semiboldSystemFont(14);let l=s.addStack();l.size=new Size(0,16),l.backgroundColor=a,l.cornerRadius=8,l.addSpacer();let c=l.addText(e);n&&(c.textColor=n),c.lineLimit=1,c.font=o,l.addSpacer(),s.addSpacer(r)}function C(t,e){return{text:t,textColor:new Color("#ececec",1),backgroundColor:e,paddingLeft:3,paddingRight:0}}switch(v.size=new Size(148,70),x.addSpacer(),a.addSpacer(),b.layoutVertically(),t.status){case"Abroad":k(b,C("abroad",Color.blue()));break;case"Traveling":k(b,C("flying",Color.purple()));break;default:k(b,C("okay",Color.green()))}for(const e of[i,r]){const n={energy:h,nerve:f},a=t[e];a.current,a.maximum,k(b,C(`${a.current}/${a.maximum}`,new Color(n[e],1)))}b.addSpacer(),S.layoutVertically();for(const e of[u,d,m]){if(!t[e])continue;const n={[u]:"ğŸ¦",[d]:"ğŸ“",[m]:"OC "},a=Color.dynamic(new Color("#ececec",.5),new Color("#333333",.5));let i=y(t[e]);k(S,{text:`${n[e]}${i.value}${i.unit[0]}`,textColor:null,backgroundColor:a,paddingLeft:0,paddingRight:4})}S.addSpacer(),v.layoutVertically();const I=[s,o,l,c];for(const e of I){if(!t[e])continue;const n=v.addStack();n.centerAlignContent(),n.addSpacer(4);let a=t[e];const i=10;{let t=SFSymbol.named(g[e]),a=n.addImage(t.image);a.imageSize=new Size(i,i),a.tintColor=Color.dynamic(new Color("#000000",1),new Color("#ffffff",1))}n.addStack().addText(" @ "+(A=a,`${_(A.getHours())}:${_(A.getMinutes())}`)).font=p;let r=n.addStack();r.addText(" in ").font=p;let s=r.addDate(a);s.font=p,s.applyTimerStyle()}var A;return a}async renderMedium(t,e=[s,o,l,c]){let n=new ListWidget;await this.renderHeader(n,null,"TORN CITY");for(const a of e){if(!t[a])continue;const e=n.addStack();e.centerAlignContent();const i=e.addStack();i.size=new Size(3,15),i.backgroundColor=new Color("#ff837a",.6),e.addSpacer(10);let r=t[a];if("string"==typeof r)e.addText(`${a}: ${r}`).font=p;else if(r instanceof Date){{let t=SFSymbol.named(g[a]),n=e.addImage(t.image);n.imageSize=new Size(14,14),n.tintColor=Color.dynamic(new Color("#000000",1),new Color("#ffffff",1))}e.addText(" @ ").font=p;let t=e.addDate(r);t.font=p,t.applyTimeStyle(),e.addText(" in ").font=p;let n=e.addDate(r);n.font=p,n.applyTimerStyle()}else if("number"==typeof r){let t,n=y(r);switch(a){case u:t=n?`will expire in ${n.value} ${n.unit}`:"has expired";break;case d:t=n?`will end in ${n.value} ${n.unit}`:"has ended";break;case m:t=n?`will be ready in ${n.value} ${n.unit}`:"has been ready"}e.addText(`${a}: ${t}`).font=p}else{const n={energy:h,nerve:f};let i=t[a],r=i.current/i.maximum,s=e.addStack();s.addSpacer(0),s.size=new Size(100,20),s.backgroundColor=new Color("#888888",1);let o=s.addStack();o.size=new Size(s.size.width*r,s.size.height),o.backgroundColor=new Color(n[a],1),s.addSpacer(),e.addSpacer(4);let l=`${i.current}/${i.maximum}`;e.addText(l).font=p}e.addSpacer(),n.addSpacer(8)}const a={"Data@":new Date(1e3*t.timestamp),"Widget@":new Date};let i=n.addStack();i.centerAlignContent();let r=SFSymbol.named("arrow.clockwise"),_=i.addImage(r.image);_.imageSize=new Size(14,14),_.tintColor=Color.dynamic(new Color("#000000",1),new Color("#ffffff",1));for(const t in a){i.addSpacer(4),i.addText(t).font=p;let e=i.addDate(a[t]);e.font=p,e.applyRelativeStyle()}return i.addSpacer(),n.addSpacer(),n.refreshAfterDate=new Date(Date.now()+3e4),n}async renderLarge(t){const n=[e,i,r,s,o,l,c,u,d,m];return await this.renderMedium(t,n)}async parseData(t){let{timestamp:n,cooldowns:a,status:s,travel:u}=t,{energy:d,nerve:m,happy:g,life:p,chain:h}=t,{city_bank:f,education_timeleft:_}=t,y={timestamp:n,[e]:s.state,[i]:d,[r]:m};if("Traveling"===s.state){let{destination:t,time_left:e}=u,a=w(n,e);y.travel=a,await S({identifier:"torn.travel",title:"Torn Travel",body:`Arriving at ${t}`},new Date(a.getTime()-15e3))}const b=[o,l,c];for(const t of b){if(0===a[t])continue;let e=w(n,a[t]);y[t]=e,await S({identifier:`torn.cooldowns.${t}`,title:"Torn Cooldowns",body:`Here is your ${t} cooldown reminder!`},e)}async function S(t,e){const{identifier:n}=t;await Notification.removePending([n]);let a=new Notification;a.openURL="alook://",a.sound="default",a=Object.assign(a,t),a.setTriggerDate(e),await a.schedule()}return f&&void 0!==f.time_left&&(y.bank=f.time_left),void 0!==_&&(y.education=_),y}parseCrimes(t,e){let n=function(t,e){for(const n in t.crimes){const a=t.crimes[n];let{participants:i,initiated:r}=a;if(!r)for(const t of i)if(t[e])return a}}(t,e);if(n){let{crime_name:t,time_left:e}=n;return{[m]:e}}}async actionUpdate(){let t=Script.name();const e=`${t}.js`;t.endsWith(".dist")&&(t=t.substr(0,t.length-5));let a=`https://raw.githubusercontent.com/Fitzmaz/Scriptables/v2-dev/Dist/${t}/manifest.json?_=${Date.now()}`;const i=new Request(a);console.log("å¼€å§‹æ£€æŸ¥æ›´æ–°");const r=await i.loadJSON().catch((t=>{console.error(`æ£€æŸ¥æ›´æ–°å‘ç”Ÿé”™è¯¯: ${t}`)}));if(!r)return;if(r.version==this.version)return void console.log("å½“å‰ç‰ˆæœ¬å·²ç»æ˜¯æœ€æ–°");let s=new Alert;if(s.message=`æ–°ç‰ˆæœ¬ ${r.version} æ˜¯å¦æ›´æ–°`,s.addAction("æ˜¯"),s.addAction("å¦"),1==await s.presentAlert())return;console.log("å¼€å§‹ä¸‹è½½æ›´æ–°");const o=new Request(`https://raw.githubusercontent.com/Fitzmaz/Scriptables/v2-dev/Dist/${t}/${t}-${r.version}.js`),l=await o.load().catch((t=>{console.error(`ä¸‹è½½æ›´æ–°å‘ç”Ÿé”™è¯¯: ${t}`)}));if(!l)return;if(200!==o.response.statusCode)return void console.log("ä¸‹è½½æ›´æ–°å¤±è´¥");console.log("å¼€å§‹å†™å…¥æ›´æ–°");const c=FileManager[n.g.module.filename.includes("Documents/iCloud~")?"iCloud":"local"]();c.write(c.joinPath(c.documentsDirectory(),e),l)}async actionOpenUrl(t){Safari.openInApp(t,!1)}}async function S(){await(0,t.Running)(b)}})(),Scriptable=a})();
await Scriptable.run();